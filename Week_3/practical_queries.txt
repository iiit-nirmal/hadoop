
> list of databses using user retail_dba
sqoop-list-databases \
--connect "jdbc:mysql://quickstart.cloudera:3306" \
--username retail_dba \
--password cloudera

> list of tables using user retail_dba
sqoop-list-tables \
--connect "jdbc:mysql://quickstart.cloudera:3306/retail_db" \
--username retail_dba \
--password cloudera

> sqoop-eval to run query
sqoop-eval \
--connect "jdbc:mysql://quickstart.cloudera:3306/retail_db" \
--username retail_dba \
--password cloudera \
--query "select * from retail_db.customers limit 10"

---------------------------- mysql 

> create database trendytech;

> creating table with no primary keys
create table people(
PersonID int,
LastName varchar(255),
FirstName varchar(255),
Address varchar(255),
City varchar(255)
);

>inserting records 
insert into people values (
101,'rao','mohan','whitefield','banglore'),(
102,'reddy','kamal','hsr','banglore'),(
103,'sai','praveen','whitefield','banglore'),(
104,'tumuu','lai','majestic','banglore'
);

-----------------------------sqoop

sqoop-list-databases \
--connect "jdbc:mysql://quickstart.cloudera:3306/retail_db" \
--username root \
--password cloudera 


sqoop-import \
--connect "jdbc:mysql://quickstart.cloudera:3306/retail_db" \
--username retail_dba \
--password cloudera \
--table orders \
--target-dir /queryresults

sqoop-import \
--connect "jdbc:mysql://quickstart.cloudera:3306/trendytech" \
--username root \
--password cloudera \
--table people \
--target-dir /people 
Note :: Above command will throw error. in case number of mappers are more than 1 ( default is 4 ) sqoop import requires  primary key column or you can have numbers of mapper to be 1. 

## Sqoop command with number of mapper as 1 ( -m 1)

sqoop-import \
--connect "jdbc:mysql://quickstart.cloudera:3306/trendytech" \
--username root \
--password cloudera \
--table people \
-m 1 \
--target-dir /people 

## Sqoop command to import all the tables as sequence file in warehouse-dir
sqoop-import-all-tables \
--connect "jdbc:mysql://quickstart.cloudera:3306/retail_db" \
--username retail_dba \
--password cloudera \
--as-sequencefile \
-m 4 \
--warehouse-dir /user/coudera/sqoopdir

## sqoop help 
sqoop help 
sqoop version 
sqoop help import  -- given various options avaible  
sqoop help eval 


------------------- sqoop password authentication
## Sqoop authenticate usin --password arguement in plain text. While with the arguemtn -P read password from console

sqoop-list-databases \
--connect "jdbc:mysql://quickstart.cloudera:3306" \
--username retail_dba \
-P

-------------------- sqoop --query argument
## Sqoop query argument can be replaced by e 
sqoop-eval \
--connect "jdbc:mysql://quickstart.cloudera:3306/retail_db" \
--username retail_dba \
--password cloudera \
-e "select * from retail_db.customers limit 10"


----------------- sqoop number-mappers argument
## Sqoop --number-mappers argument can be replaced by -m
sqoop-import \
--connect "jdbc:mysql://quickstart.cloudera:3306/retail_db" \
--username retail_dba \
--password cloudera \
--table orders \
--number-mappers 1 \ 
--target-dir /queryresults


------------------ Redirecting logs
sqoop-import \
--connect "jdbc:mysql://quickstart.cloudera:3306/trendytech" \
--username root \
--password cloudera \
--table people \
-m 1 \
--warehouse-dir /user/cloudera/people 1>query.out 2>query.err

----------------- Sqoop import Execution Work Flow 






